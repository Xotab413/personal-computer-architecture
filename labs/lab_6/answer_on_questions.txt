Для работы с клавиатурой используются два регистра: 60h - регистр данных, 64h - регистр состояния (статуса). Для управления индикаторами 
через 60h отправляется код EDh. Затем маска, в соответствии с которой должны загореться индикаторы. Маска: биты 7-3 не используются, 2 -
капс лок, 1 - нам лок, 0 - скролл лок(1 - включить, 0 выключить).
Так как клавиатура работает медленно, запись байтов команды должна выполняться только после проверки незанятости входного регистра контрол-
лера клавиатуры. Проверка осуществляется считыванием и анализом регистра состояний контроллера клавиатуры(64h, бит 1). На обработку каждого
байта клавиатура отвечает кодом возврата. 60h: 1)FA - байт обработан успешно; 2)FE - произошла ошибка. В случае ошибки передачу байта нужно
повторить. Пересылка выполняется до 3х раз, если ошибка не исчезла, нужно вывести сообщение и выйти из программы.
При нажатии клавиши блок клавиатуры передаёт её код сканирования центральному процессору. Когда клавиша отпускается, клавиатура снова пере-
даёт её код, увеличенный на 128 (либо 16ое значение 80). То есть коды нажатия и отпускания клавиш отличаются.
Когда выполняется какое-либо действие с клавишей (нажатие или отпускание), процессор клавиатуры обнаруживает его и запоминает в буфере. За-
тем формируется прерывание с номером 9.
Порт 60h доступен только для чтения. Содержит скан-код последней нажатой клавиши. Порт 61h доступен как для чтения, так и для записи. Он 
управляет не только клавиатурой, но и другими устройствами, например работой встроенного динамика. Если старший бит порта 61 поставить в 1,
клавиатура будет заблокирована.